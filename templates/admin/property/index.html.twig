{% extends 'base.html.twig' %}

{% block title 'Admin' %}

{% block body %}
<div class='container mt-4'>
    <h1>Manage properties</h1>

    <div class='text-right inline mt-4 mb-4'>
    <a href={{path('admin.property.new')}} class='btn btn-primary'>New property</a>
    <a href={{path("option_index")}} class="btn btn-primary">New option</a>
    </div>

    {% for message in app.flashes('success') %}
    <div class="alert alert-success">
        {{ message }}
    </div>
    {% endfor %}

    <table class='table table-striped'>
        <thead>
            <tr>
            <th>Title</th>
            <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for property in properties %}
            <tr>
            <td>{{ property.title }}</td>
            <td>
                <a href={{path("admin.property.edit", {id: property.id})}} class="btn btn-primary">Edit</a>
                <a href={{path("admin.property.delete", {id: property.id})}} class="btn btn-danger">Destroy</a>
                {# <form method="post" action="{{ path('admin.property.delete', {id: property.id}) }}" style="display: inline-block" onsubmit="return confirm('Are you sure?')">
                    <input type="hidden" name="_method" value="DELETE">
                    <button class="btn btn-danger">Delete</button>
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ property.id) }}">
                </form> #}
            </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>


</div>

{% endblock %}
